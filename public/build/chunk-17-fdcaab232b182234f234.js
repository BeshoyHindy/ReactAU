webpackJsonp([17,35,36,50],{276:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,a,r,o){var n=t&&t.defaultProps,i=arguments.length-3;if(a||0===i||(a={}),a&&n)for(var s in n)void 0===a[s]&&(a[s]=n[s]);else a||(a=n||{});if(1===i)a.children=o;else if(i>1){for(var l=Array(i),p=0;p<i;p++)l[p]=arguments[p+3];a.children=l}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:a,_owner:null}}}(),l=a(0),p=r(l),d=function(e){function t(a){o(this,t);var r=n(this,e.call(this,a));return r.state={newData:""},r.changeNewInputs=r.changeNewInputs.bind(r),r.changeInputs=r.changeInputs.bind(r),r.addNewData=r.addNewData.bind(r),r.deleteItem=r.deleteItem.bind(r),r}return i(t,e),t.prototype.componentWillReceiveProps=function(e){},t.prototype.changeInputs=function(e){var t=parseInt(e.target.name),a=[].concat(this.props.data);a[t]=e.target.value,this.props.setData(this.props.field,a)},t.prototype.changeNewInputs=function(e){var t=e.target.value;this.setState({newData:t})},t.prototype.addNewData=function(){this.setState({newData:""}),this.props.addArrayMember(this.props.field,this.state.newData)},t.prototype.deleteItem=function(e){var t=parseInt(e.target.getAttribute("data-id"));this.props.deleteArrayMember(this.props.field,t)},t.prototype.render=function(){var e=this;return s("div",{},void 0,s("ul",{className:"fa-ul ul-delete-item"},void 0,s("li",{},void 0,s("input",{type:"text",className:"form-control",value:this.state.newData,onChange:this.changeNewInputs}),s("input",{type:"button",className:"btn btn-warning add-botton",value:"Add",onClick:this.addNewData})),this.props.data&&this.props.data.map(function(t,a){return s("li",{},a,s("input",{type:"text",className:"form-control",value:t,name:a,onChange:e.changeInputs}),s("i",{className:"fa fa-close icon-item delete-item","data-id":a,onClick:e.deleteItem}))})))},t}(p.default.Component);t.default=d},279:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,a,r,o){var n=t&&t.defaultProps,i=arguments.length-3;if(a||0===i||(a={}),a&&n)for(var s in n)void 0===a[s]&&(a[s]=n[s]);else a||(a=n||{});if(1===i)a.children=o;else if(i>1){for(var l=Array(i),p=0;p<i;p++)l[p]=arguments[p+3];a.children=l}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:a,_owner:null}}}(),l=a(0),p=r(l),d=s("li",{},void 0,s("i",{className:"fa-li fa fa-check-square"}),"已上傳之圖檔"),c=s("li",{},void 0,s("i",{className:"fa-li fa fa-check-square"}),"欲新上傳之檔案"),u=function(e){function t(a){o(this,t);var r=n(this,e.call(this,a));return r.changeImage=r.changeImage.bind(r),r.deleteInsertImage=r.deleteInsertImage.bind(r),r.deleteImage=r.deleteImage.bind(r),r}return i(t,e),t.prototype.componentDidMount=function(){},t.prototype.componentWillReceiveProps=function(e){},t.prototype.changeImage=function(e){var t=this,a=e.target.files,r=[].concat(this.props.newImages),o=function(e){var o=a[e];if(o&&o.type&&o.type.match("image.*")){var n=new FileReader;n.onload=function(e){r.push({data_uri:e.target.result,file:o}),t.props.setNewImages(r)},n.readAsDataURL(o)}};for(var n in a)o(n)},t.prototype.deleteInsertImage=function(e){var t=parseInt(e.target.getAttribute("data-id")),a=[].concat(this.props.newImages.slice(0,t),this.props.newImages.slice(t+1,this.props.newImages.length));this.props.setNewImages(a)},t.prototype.deleteImage=function(e){var t=parseInt(e.target.getAttribute("data-id"));this.props.deleteArrayMember(this.props.field,t)},t.prototype.render=function(){var e=this;return s("div",{},void 0,s("form",{method:"post",name:"photo",id:"imageuploadform"},void 0,s("ul",{className:"fa-ul"},void 0,d,s("li",{},void 0,s("div",{className:"upload-image-list-wrap"},void 0,this.props.data.map(function(t,a){return a<e.props.data.length?s("div",{className:"upload-image-list"},a,s("i",{className:"fa fa-close icon-item delete-item upload-image-delete","data-id":a,onClick:e.deleteImage})," ",s("img",{className:"upload-image",src:t})):""}))),c,s("li",{},void 0,s("input",{type:"file",accept:"image/*",className:"form-control",id:"uploadImages",name:"uploadImages",multiple:!0,value:"",onChange:this.changeImage}),s("div",{className:"upload-image-list-wrap"},void 0,this.props.newImages.map(function(t,a){return s("div",{className:"upload-image-list"},a,s("i",{className:"fa fa-close icon-item delete-item upload-image-delete","data-id":a,onClick:e.deleteInsertImage})," ",s("img",{className:"upload-image",src:t.data_uri}))}))))))},t}(p.default.Component);u.defaultProps={data:[]},t.default=u},281:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;for(var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,a,r,o){var n=t&&t.defaultProps,i=arguments.length-3;if(a||0===i||(a={}),a&&n)for(var s in n)void 0===a[s]&&(a[s]=n[s]);else a||(a=n||{});if(1===i)a.children=o;else if(i>1){for(var l=Array(i),p=0;p<i;p++)l[p]=arguments[p+3];a.children=l}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:a,_owner:null}}}(),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},p=a(0),d=r(p),c=a(276),u=r(c),f=a(279),m=r(f),y=a(735),h=(a(84),{cat:1,images:[],description:[]}),b=y.productEditColDetail,v=Array.isArray(b),g=0,b=v?b:b[Symbol.iterator]();;){var I;if(v){if(g>=b.length)break;I=b[g++]}else{if(g=b.next(),g.done)break;I=g.value}h[I.db]=""}var w=s("label",{htmlFor:"productCategory"},void 0,"Product Category"),N=s("label",{},void 0,"Images "),D=s("label",{},void 0,"Description"),_=function(e){function t(a){o(this,t);var r=n(this,e.call(this,a));return r.setCategory=r.setCategory.bind(r),r.setBasicInput=r.setBasicInput.bind(r),r.getFormInput=r.getFormInput.bind(r),r.setDataArray=r.setDataArray.bind(r),r.setNewImages=r.setNewImages.bind(r),r.deleteArrayMember=r.deleteArrayMember.bind(r),r.addArrayMember=r.addArrayMember.bind(r),r}return i(t,e),t.prototype.componentWillReceiveProps=function(e){},t.prototype.setDataArray=function(e,t){this.props.setData(this.props.tabId,{field:e,value:t})},t.prototype.deleteArrayMember=function(e,t){this.props.delArrayMember(this.props.tabId,e,t)},t.prototype.addArrayMember=function(e,t){this.props.addArrayMember(this.props.tabId,e,t)},t.prototype.setBasicInput=function(e){var t={};t[e.target.name]=e.target.value.trim()||"",this.props.setData(this.props.tabId,{field:e.target.name,value:t[e.target.name]})},t.prototype.setNewImages=function(e){this.props.setNewFiles(this.props.tabId,this.props.fileField,e)},t.prototype.setCategory=function(e){var t={cat:parseInt(e.target.value)};this.props.setData(this.props.tabId,{field:"cat",value:t.cat})},t.prototype.getFormInput=function(e){var t=this.props.details,a=y.productEditColDetail[e],r=t&&t!=={}&&t[a.db]?t[a.db]:"",o=a.db,n=a.desc,i={};switch("_id"===o&&0!=this.props.params.id&&(i.disabled="disabled"),i.id=o,i.name=o,i.placeholder="Please Key In "+n,i.onChange=this.setBasicInput,i.value=r,i.className="form-control",a.type){case 1:return d.default.createElement("input",l({type:"text",value:this.props.details[a.db]},i));case 2:return d.default.createElement("textarea",l({value:this.props.details[a.db],rows:"3"},i));case 3:return d.default.createElement("input",l({type:"file",value:""},i));case 4:return d.default.createElement("input",l({type:"number",value:r},i));default:return d.default.createElement("input",l({type:"text",value:r},i))}},t.prototype.render=function(){var e=this,t=this.props,a=t.categories,r=t.details,o=a.filter(function(e){return e._id===r.cat})[0],n={};return 0!=this.props.params.id&&(n.disabled="disabled"),s("div",{className:"admin-edit-tabwrap"},void 0,s("div",{className:"row"},void 0,s("div",{className:"col-xs-12"},void 0,s("div",{className:"form-group"},void 0,w,d.default.createElement("select",l({className:"form-control",id:"productCategory",value:r.cat},n,{onChange:this.setCategory}),a.map(function(e,t){return s("option",{value:e._id},t," ",e.categoryName)})))),o&&o.props&&o.props.map(function(t,a){return t&&"imageUrl"!==y.productEditColDetail[a].db?s("div",{className:"col-xs-12 "+("desc"===y.productEditColDetail[a].db?"":"col-sm-6 col-lg-4")},a,s("div",{className:"form-group"},void 0,s("label",{htmlFor:y.productEditColDetail[a].db},void 0,y.productEditColDetail[a].desc),e.getFormInput(a))):""})),s("div",{className:"row"},void 0,s("div",{className:"col-xs-12 col-md-6"},void 0,s("div",{className:"form-group"},void 0,N,s(m.default,{data:this.props.details.images,field:"images",setNewImages:this.setNewImages,setData:this.setDataArray,newImages:this.props.newImages,deleteArrayMember:this.deleteArrayMember}))),s("div",{className:"col-xs-12 col-md-6"},void 0,s("div",{className:"form-group"},void 0,D,s(u.default,{data:this.props.details.description,field:"description",setData:this.setDataArray,deleteArrayMember:this.deleteArrayMember,addArrayMember:this.addArrayMember})))))},t}(d.default.Component);t.default=_},735:function(e,t,a){"use strict";t.__esModule=!0;var r=[{desc:"ID",db:"_id",type:1},{desc:"Image File",db:"imageUrl",type:3},{desc:"Product Name",db:"name",type:1},{desc:"Brand",db:"brand",type:1},{desc:"Type",db:"type",type:1},{desc:"Channel",db:"channel",type:4},{desc:"Remote",db:"remote",type:1},{desc:"Backup",db:"backup",type:1},{desc:"HDD",db:"HDD",type:1},{desc:"Video Output",db:"videoout",type:1},{desc:"Compression",db:"compression",type:1},{desc:"Sensor",db:"sensor",type:1},{desc:"Resolution",db:"resolution",type:1},{desc:"Lens",db:"lens",type:1},{desc:"Feature",db:"feature",type:1},{desc:"Description",db:"desc",type:2},{desc:"PoE port",db:"PoEport",type:4},{desc:"IR",db:"ir",type:1},{desc:"Input/Output",db:"io",type:1}];t.productEditColDetail=r}});